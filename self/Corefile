# CoreDNS Corefile
#
# This configuration will respond to DNS queries for specific hostnames
# with the IP address of the server interface that received the query.

. {
    # Log all requests to standard output. Useful for debugging.
    log

    # Handle health checks for orchestrators like Kubernetes.
    # Responds to "health.coredns" with "OK".
    health

    # Use the template plugin for our custom hostnames.
    # It will answer for "whoami.example.com" and "whoami-ipv6.example.com".
    # The zone is "." so it can see all queries. We use `fallthrough` to
    # pass non-matching queries to the next plugin.
    #template IN A {
    #    # For A (IPv4) queries for "whoami.example.com", respond with the server's IPv4 address.
    #    answer "ns0.example. 60 IN A {{ .server_ip }}"

    #    # Pass any queries that don't match the templates above to the next plugin.
    #    fallthrough
    #}

    whoami
}
